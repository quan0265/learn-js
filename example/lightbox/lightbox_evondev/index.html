
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Lightbox image</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
      integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw=="
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./app.css" />
  </head>
  <body>
    <div class="content">
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus quaerat
        ducimus eos fugit sit ullam facere nisi ratione. Aut porro delectus
        natus beatae fugit velit, assumenda error iure id laudantium!
      </p>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus quaerat
        ducimus eos fugit sit ullam facere nisi ratione. Aut porro delectus
        natus beatae fugit velit, assumenda error iure id laudantium!
      </p>
      <img
        src="https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1308&q=80"
        alt=""
        class="image"
      />
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus quaerat
        ducimus eos fugit sit ullam facere nisi ratione. Aut porro delectus
        natus beatae fugit velit, assumenda error iure id laudantium!
      </p>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus quaerat
        ducimus eos fugit sit ullam facere nisi ratione. Aut porro delectus
        natus beatae fugit velit, assumenda error iure id laudantium!
      </p>
      <img
        src="https://images.unsplash.com/photo-1437846972679-9e6e537be46e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1351&q=80"
        alt=""
        class="image"
      />
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus quaerat
        ducimus eos fugit sit ullam facere nisi ratione. Aut porro delectus
        natus beatae fugit velit, assumenda error iure id laudantium!
      </p>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus quaerat
        ducimus eos fugit sit ullam facere nisi ratione. Aut porro delectus
        natus beatae fugit velit, assumenda error iure id laudantium!
      </p>
      <img
        src="https://images.unsplash.com/photo-1484804959297-65e7c19d7c9f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1314&q=80"
        alt=""
        class="image"
      />
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus quaerat
        ducimus eos fugit sit ullam facere nisi ratione. Aut porro delectus
        natus beatae fugit velit, assumenda error iure id laudantium!
      </p>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus quaerat
        ducimus eos fugit sit ullam facere nisi ratione. Aut porro delectus
        natus beatae fugit velit, assumenda error iure id laudantium!
      </p>
      <img
        src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1353&q=80"
        alt=""
      />
    </div>
   <!-- lightbox -->
    <!-- <div class="lightbox">
    	<div class="lightbox-content">
    		<img src="https://images.unsplash.com/photo-1484804959297-65e7c19d7c9f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1314&q=80" alt="" class="lightbox-image">
    	</div>
    </div> -->
    
    
<script type="text/javascript">
	const images = document.querySelectorAll('.content img');
	images.forEach(item => item.addEventListener('click', handleZoomImage));

	function handleZoomImage(event) {
		const image = event.target.getAttribute('src')
		const template = ` 
			<div class="lightbox">
		    	<div class="lightbox-content">
					<i class="fa fa-angle-left lightbox-prev"></i>
		    		<img src="${image}" alt="" class="lightbox-image">
				    <i class="fa fa-angle-right lightbox-next"></i>
		    	</div>
		    </div>
		`
		document.body.insertAdjacentHTML('beforeend', template);
	}

	let index = 0;
	document.body.addEventListener('click', function(e) {
		const lightbox_image = document.querySelector('.lightbox-image')
		// console.dir(e.target.classList)
		// nếu là e.target là element .lightbox(child element bên trong .lightbox không tính)
		if (e.target.matches('.lightbox')) {
			e.target.parentNode.removeChild(e.target);
		}
		else if (e.target.matches('.lightbox-next')) {
			// handle next image
			var current_index = [...images].findIndex((item) => item.getAttribute('src') === lightbox_image.src)
			index = current_index + 1;
			if (index > images.length - 1) {
				index = 0;
			}
			const newSrc = [...images][index].getAttribute('src')
			lightbox_image.setAttribute('src', newSrc)
		}
		else if (e.target.matches('.lightbox-prev')) {
			// handle prev image
			var current_index = [...images].findIndex((item) => item.getAttribute('src') === lightbox_image.src)
			index = current_index - 1;
			if (index < 0) {
				index = images.length - 1;
			}
			const newSrc = [...images][index].getAttribute('src')
			lightbox_image.setAttribute('src', newSrc)
		}
	})


</script>



  </body>
</html>